<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>mobile Assignment</title>

<style>
	body {margin:0px; padding:0px; background-color:#ccc; overflow:hidden;}
	#myCanvas {position:absolute; left:0px; top:0px; background-color:#ccc;}
</style>

<script src="createjs-2015.11.26.min.js"></script>
<script src="http://d309knd7es5f10.cloudfront.net/zim_2.6.1.js"></script>
<script src="http://d309knd7es5f10.cloudfront.net/zim_2.6.1_doc.js"></script>
<!-- <script src="../libraries/im.js"></script> -->


<script>

window.addEventListener("load", function() {

	var stageW;
	var stageH;
	var ready = false;
	var resize;
	var orientation;

	makeCanvas();

	var stage = new createjs.Stage("myCanvas");
	stage.enableMouseOver(10);  // leave out if mobile
	createjs.Touch.enable(stage, true);
	sizeStage();

	// end template header
	//------------------------------------------

	
    
     // yellow circle
    var container2 = new zim.Circle (50, "#FEEC5A", null, null);
    container2.x = 850;
    container2.y = 260;
    stage.addChild(container2);
    stage.update();
    
    // orange
    var container10 = new zim.Circle (50, "#F3994D", null, null);
    container10.x = 750;
    container10.y = 190;
    stage.addChild(container10);
    stage.update();
    
    // red
    var container3 = new zim.Circle (50, "#E3573C", null, null);
    stage.addChild(container3);
    container3.x = 610;
    container3.y = 150;
    stage.update();
    
    // pinkish
    var container4 = new zim.Circle (50, "#E86392", null, null);
    stage.addChild(container4);
    container4.x = 480;
    container4.y = 150;
    stage.update();
    
    //  light purple
    var container5 = new zim.Circle (50, "#9E6CA7", null, null);
    stage.addChild(container5);
    container5.x = 250;
    container5.y = 260;
    stage.update();
    
    // pinkish purple
    var container6 = new zim.Circle (50, "#CC5688", null, null);
    stage.addChild(container6);
    container6.x = 350;
    container6.y = 190;
    stage.update();
    
    
    //////// squares /////
    
    // limey green
    var square = new zim.Rectangle(100, 100, "#CCD755", null, null, 10);
	stage.addChild(square);
	square.x = stageW/2;
	square.y = stageH/2;
	
	// green
	var square2 = new zim.Rectangle(100, 100, "#7FBB5B", null, null, 10);
	stage.addChild(square2);
	square2.x = 750;
	square2.y = stageH/2;
	
	// turqouise
	var square3 = new zim.Rectangle(100, 100, "#67BCB7", null, null, 10);
	stage.addChild(square3);
	square3.x = stageW/2.5;
	square3.y = stageH/2;
	
	// skyblue
	var square4 = new zim.Rectangle(100, 100, "#78C2E9", null, null, 10);
	stage.addChild(square4);
	square4.x = stageW/3;
	square4.y = stageH/2;
	
	// blue
	var square5 = new zim.Rectangle(100, 100, "#2C89C6", null, null, 10);
	stage.addChild(square5);
	square5.x = stageW/4;
	square5.y = stageH/2;
	
	// deep purple
	var square6 = new zim.Rectangle(100, 100, "#7C68A7", null, null, 10);
	stage.addChild(square6);
	square6.x = stageW/2;
	square6.y = 450
	
	
	zim.drag(square);
	zim.drag(square2);
	zim.drag(square3);
	zim.drag(square4);
	zim.drag(square5);
	zim.drag(square6);

var counter = 0;
		
		

square.on("pressup", function pressing() {
		console.log ("dragging");


	
	if (zim.hitTestCircle(square, container5, 8)){
		console.log("hitting");
		counter += 1;
		console.log (counter);
		//myCircle.alpha = 0;
		//stage.removeChild(myCircle);
		stage.update();
		zim.noDrag(square);
		square.removeAllEventListeners();
		zim.scale(square, .5);
		
		if (counter == 6) { 
		console.log("you win!");
		}
	}
	
	
	
	
	stage.update();
	
});


square2.on("pressup", function() {
		console.log ("dragging");

	
	if (zim.hitTestCircle(square2, container6, 8)){
		console.log("hitting");
		counter += 1;
		console.log (counter);
		square2.removeAllEventListeners();
		zim.scale(square2, .5);
		stage.update();
		
		if (counter == 6) { 
		console.log("you win!");
		}
	}
	
	
	
	stage.update();
	
});
	
	
square3.on("pressup", function() {
		console.log ("dragging");

	
	if (zim.hitTestCircle(square3, container4, 8)){
		console.log("hitting");
		counter += 1;
		console.log (counter);
		square3.removeAllEventListeners();
		zim.scale(square3, .5);
		stage.update();
		
		if (counter == 6) { 
		console.log("you win!");
		}
	}
	
	
	
	stage.update();
	
});

square4.on("pressup", function() {
		console.log ("dragging");

	
	if (zim.hitTestCircle(square4, container3, 8)){
		console.log("hitting");
		counter += 1;
		console.log (counter);
		square4.removeAllEventListeners();
		zim.scale(square4, .5);
		stage.update();
		
		if (counter == 6) { 
		console.log("you win!");
		}
	}
	
	
	
	stage.update();
	
});

square5.on("pressup", function() {
		console.log ("dragging");

	
	if (zim.hitTestCircle(square5, container10, 8)){
		console.log("hitting");
		counter += 1;
		console.log (counter);
		square5.removeAllEventListeners();
		zim.scale(square5, .5);
		stage.update();
		
		if (counter == 6) { 
		console.log("you win!");
		}
		
	}
	
	
	
	stage.update();
	
});
	
	
	
square6.on("pressup", function() {
		console.log ("dragging");

	
	if (zim.hitTestCircle(square6, container2, 8)){
		console.log("hitting");
		counter += 1;
		console.log (counter);
		square5.removeAllEventListeners();
		zim.scale(square6, .5);
		stage.update();
		
		if (counter == 6) { 
		console.log("you win!");
		
		var winner = new createjs.Text("YOU WIN!", "60px Arial", "white");
      	winner.x = 400;
    	winner.y = 300;
      	winner.textBaseline = "alphabetic";
      	stage.addChild(winner);

		stage.update();
		}
	}
	
	
	
	stage.update();
	
});
	

    
var info = new createjs.Text("Drop the squares to the APPROPRIATE circle", "40px Arial", "white");
      info.x = 123;
      info.y = 600;
      info.textBaseline = "alphabetic";
      stage.addChild(info);

	stage.update();
// 
// var winner = new createjs.Text("YOU WIN!", "60px Arial", "white");
//       winner.x = 400;
//       winner.y = 100;
//       winner.textBaseline = "alphabetic";
//       stage.addChild(winner);

	stage.update();



	// ----------------------------------------------
	// start template footer
	function makeCanvas() {
		// make a canvas tag and apply attributes for id, width and height
		var canvas = document.createElement("canvas");
		canvas.setAttribute("id", "myCanvas");

		// get maximum size for canvas
		// note: iOS6 does not work from loading icon unless keep canvas within device size
		// thank you apple for this and many other days of hell
		largest = Math.max(window.innerWidth, screen.width, window.innerHeight, screen.height);
		if (!/ip(hone|od|ad)/i.test(navigator.userAgent)) largest *= 3; // handle up to three monitors
		canvas.setAttribute("width", largest);
		canvas.setAttribute("height", largest);

		// add our canvas tag
		document.body.appendChild(canvas);

		// stop the canvas from moving when certain keys are pressed (pgdwn, pgup, arrows, home, end)
		// and stop scrollwheel from moving page
		var a = function(e) {
			if (!e) e = event;
			if (e.keyCode && (e.keyCode >= 32 && e.keyCode <= 40)) e.preventDefault();
		}
		var b = function(e) {
			if (!e) e = event;
			e.preventDefault();
		}
		var c = b;
		window.addEventListener("keydown", a);
		window.addEventListener("mousewheel", b);
		window.addEventListener("DOMMouseScroll", c);
		window.addEventListener('resize', function() {
			sizeStage();
			if (/ios|android|nexus/i.test(navigator.userAgent)) {
				setTimeout(function() {
					sizeStage();
				}, 500); // to catch delayed screen sizes
			}
		});
	}

	function sizeStage() {
		// earlier than IE9 does not have innerWidth
		// inner is better on mobile when zoomed so can't always use client
		// ternary operator
		stageW = isNaN(window.innerWidth) ? window.clientWidth : window.innerWidth;
		stageH = isNaN(window.innerHeight) ? window.clientHeight : window.innerHeight;

		// if wider than high then we have horizontal (or landscape)
		orientation = (stageW>stageH) ? "horizontal" : "vertical";

		if (stage) stage.setBounds(0,0,stageW,stageH);
		if (ready) resize();
	}
});

</script>
</head>
<body>
</body>
</html>
